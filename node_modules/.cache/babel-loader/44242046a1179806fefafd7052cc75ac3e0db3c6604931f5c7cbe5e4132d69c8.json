{"ast":null,"code":"import _regeneratorRuntime from\"D:/reactJS/reactweather/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/reactJS/reactweather/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/reactJS/reactweather/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'./App.css';import Weather from'./component/weather';import React from'react';import{Dimmer,Loader}from'semantic-ui-react';import{jsx as _jsx}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lat=_useState2[0],setLat=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),long=_useState4[0],setLong=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:navigator.geolocation.getCurrentPosition(function(position){setLat(position.coords.latitude);setLong(position.coords.longitude);});_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/weather/?lat=\").concat(lat,\"&lon=\").concat(long,\"&units=metric&appid=\").concat(process.env.REACT_APP_API_KEY)).then(function(res){return res.json();}).then(function(result){setData(result);console.log(result);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[lat,long]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:typeof data.main!='undefined'?/*#__PURE__*/_jsx(Weather,{weatherData:data}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Dimmer,{active:true,children:/*#__PURE__*/_jsx(Loader,{children:\"Loading...\"})})})});}export default App;","map":{"version":3,"names":["useState","useEffect","Weather","React","Dimmer","Loader","App","lat","setLat","long","setLong","data","setData","fetchData","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","fetch","process","env","REACT_APP_API_URL","REACT_APP_API_KEY","then","res","json","result","console","log","main"],"sources":["D:/reactJS/reactweather/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport './App.css';\nimport Weather from './component/weather';\nimport React from 'react';\nimport {Dimmer, Loader} from 'semantic-ui-react'\nfunction App() {\n  const [lat,setLat] = useState([]);\n  const [long,setLong] = useState([]);\n  const [data,setData] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      navigator.geolocation.getCurrentPosition(function(position) {\n        setLat(position.coords.latitude);\n        setLong(position.coords.longitude);\n      });\n\n      await fetch(`${process.env.REACT_APP_API_URL}/weather/?lat=${lat}&lon=${long}&units=metric&appid=${process.env.REACT_APP_API_KEY}`)\n      .then(res => res.json())\n      .then(result => {\n        setData(result)\n        console.log(result);\n      });\n    }\n    fetchData();\n  }, [lat,long])\n  return (\n    <div className=\"App\">\n      {(typeof data.main != 'undefined')?(\n        <Weather weatherData={data} />\n      ):(\n        <div>\n          <Dimmer active>\n            <Loader>Loading...</Loader>\n          </Dimmer>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"uVAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,WAAW,CAClB,MAAOC,QAAO,KAAM,qBAAqB,CACzC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,MAAM,CAAEC,MAAM,KAAO,mBAAmB,4CAChD,QAASC,IAAG,EAAG,CACb,cAAqBN,QAAQ,CAAC,EAAE,CAAC,wCAA1BO,GAAG,eAACC,MAAM,eACjB,eAAuBR,QAAQ,CAAC,EAAE,CAAC,yCAA5BS,IAAI,eAACC,OAAO,eACnB,eAAuBV,QAAQ,CAAC,EAAE,CAAC,yCAA5BW,IAAI,eAACC,OAAO,eACnBX,SAAS,CAAC,UAAM,CACd,GAAMY,UAAS,4FAAG,qIAChBC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAAC,SAASC,QAAQ,CAAE,CAC1DT,MAAM,CAACS,QAAQ,CAACC,MAAM,CAACC,QAAQ,CAAC,CAChCT,OAAO,CAACO,QAAQ,CAACC,MAAM,CAACE,SAAS,CAAC,CACpC,CAAC,CAAC,CAAC,sBAEGC,MAAK,WAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,0BAAiBjB,GAAG,iBAAQE,IAAI,gCAAuBa,OAAO,CAACC,GAAG,CAACE,iBAAiB,EAAG,CAClIC,IAAI,CAAC,SAAAC,GAAG,QAAIA,IAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAG,MAAM,CAAI,CACdjB,OAAO,CAACiB,MAAM,CAAC,CACfC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACrB,CAAC,CAAC,uDACH,kBAZKhB,UAAS,0CAYd,CACDA,SAAS,EAAE,CACb,CAAC,CAAE,CAACN,GAAG,CAACE,IAAI,CAAC,CAAC,CACd,mBACE,YAAK,SAAS,CAAC,KAAK,UAChB,MAAOE,KAAI,CAACqB,IAAI,EAAI,WAAW,cAC/B,KAAC,OAAO,EAAC,WAAW,CAAErB,IAAK,EAAG,cAE9B,kCACE,KAAC,MAAM,EAAC,MAAM,4BACZ,KAAC,MAAM,yBAAoB,EACpB,EAEZ,EACG,CAEV,CAEA,cAAeL,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}